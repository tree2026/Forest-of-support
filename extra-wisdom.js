// extra-wisdom.js
// 365 Wisdom Phrases for additional journal responses
// Loads AFTER the main poem response

window.extraWisdomPhrases = {
    // Category 1: Rooting
    rooting: [
        "The deeper the roots, the stronger the tree stands in the storm.",
        "Ground yourself in the present moment; it's the only soil that nourishes growth.",
        "Your foundation is not what you build above, but what you cultivate below.",
        "Even when you feel uprooted, remember: seeds grow in darkness first.",
        "Stability comes not from resisting change, but from deep connection to what sustains you.",
        "The tree's strength whispers: 'My roots remember every rain that ever fell.'",
        "When you feel scattered, return to your breath - it's your first root.",
        "Anchor in your values, not in changing circumstances.",
        "The mightiest oak was once a nut that held its ground.",
        "Your roots grow in silence; your branches speak to the sky.",
        "Don't just weather the storm - become the ground that holds through it.",
        "The present moment is the only soil where peace can grow."
    ],
    
    // Category 2: Bark
    bark: [
        "Boundaries are the bark that lets the tree breathe while keeping it safe.",
        "A fence around a garden makes it more sacred, not less free.",
        "Your 'no' creates space for your most important 'yes'.",
        "Protection is not rejection; it's discernment about what deserves entry.",
        "The strongest boundaries are flexible enough to let love in, firm enough to keep harm out.",
        "Saying 'this is not for me' is an act of self-respect.",
        "Your energy is sacred; guard it like ancient trees guard their rings.",
        "A healthy boundary says: 'I matter enough to choose what touches me.'",
        "Sometimes the most loving act is to close a door gently.",
        "Your personal space is holy ground; treat it accordingly.",
        "Discernment is the wisdom that knows which winds to bend to.",
        "Protect your peace like a mother tree protects her seedlings."
    ],
    
    // Category 3: Rings
    rings: [
        "Your past is not a prison; it's the rings that give your story strength.",
        "Every experience, even the painful ones, adds to your unique pattern.",
        "The tree doesn't regret its thin rings; they taught it how to survive.",
        "Your history isn't what happened to you, but what you grew through.",
        "Each year leaves its mark; together they create your character.",
        "The most beautiful wood often has the most interesting grain - shaped by struggle.",
        "Don't erase your past; integrate it into your present strength.",
        "Your scars are evidence of healing, not just of wounding.",
        "The tree's rings tell the truth: growth includes both drought and rain.",
        "You are not damaged by your past; you are designed by it.",
        "Every season you've weathered has made you more yourself.",
        "Your story is written in rings, not in straight lines."
    ],
    
    // Category 4: Release
    release: [
        "Letting go isn't losing; it's making room for what wants to come.",
        "The tree doesn't cling to dead leaves; it trusts spring's return.",
        "Release what weighs you down; your branches will rise higher.",
        "Sometimes the bravest thing is to unclench your hands.",
        "What you let go of determines what you have space to receive.",
        "Autumn teaches: release can be beautiful, even glorious.",
        "Holding on to what's over is like watering dead flowers.",
        "Make space for new growth by clearing what has served its purpose.",
        "The past is a place of reference, not a place of residence.",
        "Let go of the shore if you want to discover new oceans.",
        "Release is an act of faith in the unfolding of your becoming.",
        "Empty branches make the most beautiful patterns against the winter sky."
    ],
    
    // Category 5: Reaching
    reaching: [
        "Grow toward the light you carry within, not just the light you see.",
        "Your aspirations are the compass of your soul.",
        "Reach not just upward, but outward - toward connection.",
        "Every stretch toward growth strengthens your core.",
        "The branch that reaches finds both sun and storm; both are teachers.",
        "Your dreams are seeds waiting for the right season to sprout.",
        "Reach for what nourishes your spirit, not just what impresses others.",
        "Growth is often slow; direction matters more than speed.",
        "Your highest reaching begins with deepest rooting.",
        "Aim for the stars, but appreciate the journey through the branches.",
        "Every small reach accumulates into significant growth.",
        "What you reach for shapes who you become in the reaching."
    ],
    
    // Category 6: Network
    network: [
        "We are interconnected like forest roots; your healing helps us all.",
        "No tree stands alone in the forest; neither should you.",
        "Your vulnerability connects you to humanity's shared experience.",
        "Strength comes not from isolation, but from wise connection.",
        "The mycelium network reminds us: support flows through unseen channels.",
        "Community is the soil where individual growth becomes collective beauty.",
        "Your story matters because it connects to the larger human story.",
        "We heal in relationship, not in isolation.",
        "The forest thrives on diversity; so does the human spirit.",
        "Your tears water the roots of someone else's compassion.",
        "Connection is the antidote to suffering.",
        "We are each other's keepers in this forest of being."
    ],
    
    // Category 7: Bending
    bending: [
        "Flexibility is not weakness; it's intelligent resilience.",
        "The willow survives the storm by learning to dance with the wind.",
        "Sometimes the most direct path is a gentle curve.",
        "Bending prevents breaking; yielding can be strength.",
        "Adaptability is the art of staying true while changing form.",
        "The rigid tree snaps; the flexible tree sways and survives.",
        "Your ability to bend determines your capacity to endure.",
        "Flow like water around obstacles rather than breaking against them.",
        "Resilience is knowing when to stand firm and when to yield.",
        "The supple branch bears the heaviest snow.",
        "Flexibility is the wisdom of the bamboo: strong because it bends.",
        "Sometimes surrender is the path to ultimate victory."
    ],
    
    // Category 8: Shape
    shape: [
        "Your uniqueness is not an error; it's your contribution.",
        "The world doesn't need another oak; it needs you, exactly as you are.",
        "Authenticity is wearing your own shape, not someone else's costume.",
        "Your peculiarities are your signature.",
        "Don't prune yourself to fit someone else's garden.",
        "The most beautiful trees are often the most irregular.",
        "Your true shape emerges when you stop trying to be symmetrical.",
        "Originality is returning to your origin.",
        "Your quirks are the fingerprints of your soul.",
        "Be yourself; everyone else is already taken.",
        "Your authentic shape is your gift to a world of copies.",
        "The pine never apologizes for not being a palm tree."
    ],
    
    // Category 9: Seasons
    seasons: [
        "Your winter prepares your spring; trust the cycle.",
        "Every season has its purpose in your growth.",
        "The tree doesn't rush spring; it knows each season comes in time.",
        "Your dormant periods are not wasted; they're restorative.",
        "Life has seasons; don't expect autumn flowers from spring buds.",
        "The rhythm of nature is the rhythm of healing.",
        "Winter's stillness makes spring's blooming possible.",
        "Each phase of your life has its own beauty and necessity.",
        "The tree accepts all seasons as part of one continuous becoming.",
        "Your personal autumns make your springs more precious.",
        "Cycles aren't circles to escape, but spirals to ascend.",
        "Seasonal change reminds us: nothing lasts, but nothing is lost."
    ],
    
    // Category 10: Wholeness
    wholeness: [
        "Healing is not about erasing scars, but integrating them into your beauty.",
        "Your broken places are where your light gets in and out.",
        "Wholeness includes all your parts, even the wounded ones.",
        "You are not your wounds; you are the healing that follows.",
        "Integration makes art of your fragments.",
        "Your cracks don't make you broken; they make you human.",
        "Healing happens when you stop fighting your own pieces.",
        "Your wholeness includes both strength and vulnerability.",
        "The repaired bowl holds water just as well, with more character.",
        "Your history isn't something to overcome, but to incorporate.",
        "Scars are evidence of life, not just of injury.",
        "You are already whole; healing is remembering this."
    ],
    
    // Category 11: Patience
    patience: [
        "Growth happens in its own time; you cannot rush a tree.",
        "Patience is trusting the process when you cannot see progress.",
        "The acorn doesn't become an oak in a day, but it never stops becoming.",
        "Your unfolding has its own rhythm; honor it.",
        "Great things grow slowly; instant results are often shallow.",
        "Patience is active waiting with faith.",
        "The tree teaches: be present in your becoming.",
        "Your growth may be invisible today, but it's happening.",
        "Time is not your enemy in healing; it's your ally.",
        "The most beautiful transformations are never rushed.",
        "Patience is the art of knowing when to wait and when to water.",
        "Trust the timing of your life; everything blooms in its season."
    ],
    
    // Category 12: Presence
    presence: [
        "The tree doesn't miss this moment worrying about the next.",
        "Your life is happening now, not when conditions are perfect.",
        "Presence is the deepest root of peace.",
        "This breath, this moment: this is where life lives.",
        "The present is the only place where healing happens.",
        "Worry about tomorrow steals today's peace.",
        "Be here now; everything else is imagination.",
        "Your power is in this moment, not in yesterday or tomorrow.",
        "The tree stands completely in its present reality.",
        "Now is the only time you can ever actually live.",
        "Presence is returning home to yourself, again and again.",
        "This moment contains everything you need for this moment."
    ]
};

// Add extra phrases to existing poeticWisdom if it exists
if (typeof poeticWisdom !== 'undefined') {
    // Add wisdom phrases to each category
    Object.keys(window.extraWisdomPhrases).forEach(category => {
        if (poeticWisdom[category]) {
            // Ensure each poem object has a 'wisdom' property for additional phrases
            poeticWisdom[category].forEach((poemObj, index) => {
                if (window.extraWisdomPhrases[category] && 
                    window.extraWisdomPhrases[category][index % window.extraWisdomPhrases[category].length]) {
                    poemObj.wisdomPhrase = window.extraWisdomPhrases[category][index % window.extraWisdomPhrases[category].length];
                }
            });
        }
    });
    console.log('Extra wisdom phrases integrated successfully!');
}

// Helper function to get a wisdom phrase based on category
window.getWisdomPhrase = function(category, journalText) {
    if (!window.extraWisdomPhrases[category]) {
        category = 'rooting'; // default
    }
    
    const phrases = window.extraWisdomPhrases[category];
    if (!phrases || phrases.length === 0) return "";
    
    // Simple contextual matching based on journal text
    const text = journalText.toLowerCase();
    
    // Try to find most relevant phrase
    let bestMatch = "";
    let highestScore = 0;
    
    phrases.forEach(phrase => {
        let score = 0;
        const words = phrase.toLowerCase().split(' ');
        
        words.forEach(word => {
            if (text.includes(word) && word.length > 3) {
                score++;
            }
        });
        
        if (score > highestScore) {
            highestScore = score;
            bestMatch = phrase;
        }
    });
    
    // If no good match, return random phrase from category
    if (bestMatch === "" || highestScore === 0) {
        const randomIndex = Math.floor(Math.random() * phrases.length);
        bestMatch = phrases[randomIndex];
    }
    
    return bestMatch;
};
